<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fashion Market ‚Äî Loja completa</title>
  <style>
    :root{
      --bg:#f5f6f8; --card:#fff; --text:#111; --muted:#6b7280; --accent:#111;
      --glass: rgba(255,255,255,0.6);
    }
    [data-theme="dark"]{
      --bg:#0b0f12; --card:#0f1720; --text:#e6eef6; --muted:#9aa6b2; --accent:#ffcc00; --glass: rgba(255,255,255,0.04);
    }
    *{box-sizing:border-box;font-family:Inter, Poppins, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text)}
    /* Top bar */
    .topbar{position:fixed;top:0;left:0;right:0;display:flex;align-items:center;justify-content:space-between;padding:12px 18px;gap:12px;background:linear-gradient(90deg, rgba(0,0,0,0.06), transparent);backdrop-filter: blur(6px);z-index:999}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:42px;height:42px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#ff6b6b);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    nav{display:flex;gap:12px}
    nav a{color:var(--text);text-decoration:none;padding:8px 10px;border-radius:8px;font-weight:600}
    .actions{display:flex;gap:8px;align-items:center}
    .btn{background:var(--card);border:1px solid rgba(0,0,0,0.06);padding:8px 12px;border-radius:8px;cursor:pointer}
    .icon{width:22px;height:22px;display:inline-block}
    /* Hero */
    .hero{margin-top:76px;padding:36px 18px;display:grid;grid-template-columns:1fr 360px;gap:24px;max-width:1200px;margin-left:auto;margin-right:auto}
    .hero-card{background:linear-gradient(180deg,var(--card),rgba(255,255,255,0.02));padding:28px;border-radius:16px;box-shadow:0 6px 30px var(--glass)}
    .hero h1{font-size:28px;margin-bottom:8px}
    .hero p{color:var(--muted);margin-bottom:16px}
    .search{display:flex;gap:8px}
    .search input{flex:1;padding:12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06)}
    .search button{padding:12px 14px;border-radius:10px;border:none;background:var(--accent);color:#111;font-weight:700}
    /* Categories */
    .cats{display:flex;gap:12px;margin-top:16px}
    .cat{flex:1;padding:14px;border-radius:12px;background:var(--card);text-align:center;cursor:pointer}
    /* Products grid */
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px;padding:24px;max-width:1200px;margin:22px auto}
    .card{background:var(--card);border-radius:14px;padding:12px;box-shadow:0 6px 22px var(--glass);display:flex;flex-direction:column;gap:8px;transition:transform .18s}
    .card:hover{transform:translateY(-6px)}
    .card img{width:100%;height:220px;object-fit:cover;border-radius:10px}
    .card h3{margin:6px 0 0;font-size:16px}
    .price-row{display:flex;justify-content:space-between;align-items:center}
    .price{font-weight:800}
    .qty{display:flex;gap:6px;align-items:center}
    .small{font-size:13px;color:var(--muted)}
    /* Cart drawer */
    .cart-drawer{position:fixed;right:18px;top:76px;width:360px;bottom:18px;background:var(--card);border-radius:12px;box-shadow:0 18px 50px rgba(0,0,0,0.2);padding:12px;overflow:auto;transform:translateX(120%);transition:transform .28s;z-index:995}
    .cart-drawer.open{transform:translateX(0)}
    .cart-item{display:flex;gap:12px;align-items:center;padding:8px;border-radius:10px}
    .cart-item img{width:64px;height:64px;object-fit:cover;border-radius:8px}
    .cart-footer{border-top:1px dashed rgba(0,0,0,0.06);padding-top:12px;margin-top:12px}
    /* Modals */
    .modal-backdrop{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(2,6,23,0.45);display:flex;align-items:center;justify-content:center;z-index:1000}
    .modal{background:var(--card);padding:20px;border-radius:12px;max-width:520px;width:92%}
    .form-row{display:flex;flex-direction:column;gap:8px;margin-bottom:10px}
    input,textarea,select{padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)}
    /* Admin panel */
    .admin-panel{max-width:900px;margin:24px auto;background:var(--card);padding:18px;border-radius:12px}
    .flex{display:flex;gap:12px}
    /* Chat box */
    .chat-btn{position:fixed;right:18px;bottom:18px;background:var(--accent);color:#111;border-radius:50px;padding:12px 16px;box-shadow:0 8px 30px rgba(0,0,0,0.16);cursor:pointer;z-index:999}
    .chat-window{position:fixed;right:18px;bottom:74px;width:320px;background:var(--card);border-radius:12px;box-shadow:0 12px 40px rgba(0,0,0,0.2);overflow:hidden;display:flex;flex-direction:column}
    .chat-body{padding:12px;max-height:300px;overflow:auto}
    .msg{margin-bottom:10px}
    .msg.user{text-align:right}
    .msg .bubble{display:inline-block;padding:8px 12px;border-radius:12px}
    .msg.user .bubble{background:var(--accent);color:#111}
    .msg.bot .bubble{background:rgba(0,0,0,0.06)}
    .chat-input{display:flex;padding:10px;border-top:1px solid rgba(0,0,0,0.06)}
    .chat-input input{flex:1;padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)}
    .chat-input button{margin-left:8px;padding:8px 12px;border-radius:8px;background:var(--accent);border:none}
    /* Footer */
    footer{padding:30px 18px;text-align:center;color:var(--muted);margin-top:28px}
    /* responsive */
    @media(max-width:900px){.hero{grid-template-columns:1fr;}.cart-drawer{right:8px;width:92%;}}
  </style>
</head>
<body>
  <!-- Top bar / navigation -->
  <div class="topbar">
    <div class="brand">
      <div class="logo">FM</div>
      <div>
        <div style="font-weight:800">Fashion Market</div>
        <div class="small">Moda que conecta</div>
      </div>
    </div>
    <nav>
      <a href="#">In√≠cio</a>
      <a href="#produtos">Produtos</a>
      <a href="#sobre">Sobre</a>
      <a href="#contato">Contato</a>
    </nav>
    <div class="actions">
      <button class="btn" id="themeToggle" title="Alternar tema">üåì</button>
      <button class="btn" id="loginBtn">Entrar</button>
      <button class="btn" id="cartBtn">Carrinho <span id="cartCount">(0)</span></button>
    </div>
  </div>  <!-- Hero -->  <section class="hero">
    <div class="hero-card">
      <h1>Nova cole√ß√£o 2025 ‚Äî chegou na Fashion Market</h1>
      <p>Pe√ßas selecionadas, frete r√°pido e pagamento por Pix.</p><div class="search">
    <input id="searchInput" placeholder="Buscar por camiseta, vestido, jaqueta...">
    <button id="searchBtn">Buscar</button>
  </div>

  <div class="cats" style="margin-top:14px">
    <div class="cat" data-cat="masc">Masculino</div>
    <div class="cat" data-cat="fem">Feminino</div>
    <div class="cat" data-cat="acc">Acess√≥rios</div>
  </div>

  <div style="margin-top:18px;display:flex;gap:8px">
    <button class="btn" id="openAdmin">Painel Admin</button>
    <button class="btn" id="darkBtn">Modo Escuro</button>
  </div>
</div>

<aside class="hero-card" style="display:flex;flex-direction:column;gap:12px">
  <h3>Resumo</h3>
  <div style="display:flex;justify-content:space-between"><div class="small">Produtos</div><div id="productCount">0</div></div>
  <div style="display:flex;justify-content:space-between"><div class="small">Usu√°rios</div><div id="userCount">0</div></div>
  <div style="display:flex;justify-content:space-between"><div class="small">Vendas (simul.)</div><div id="salesCount">0</div></div>
  <div style="margin-top:auto">
    <h4>Como trocar imagens</h4>
    <div class="small">Fa√ßa upload no GitHub e cole o link raw no formul√°rio do Admin (ou use URL direta)</div>
  </div>
</aside>

  </section>  <!-- Products grid -->  <section id="produtos" class="grid" aria-live="polite"></section>  <!-- Admin panel (modal) -->  <div id="adminModal" class="modal-backdrop" style="display:none">
    <div class="modal">
      <h3>Painel Admin ‚Äî Adicionar produto</h3>
      <div class="form-row"><label>Nome</label><input id="pName"></div>
      <div class="form-row"><label>Pre√ßo (R$)</label><input id="pPrice" type="number" step="0.01"></div>
      <div class="form-row"><label>Categoria</label>
        <select id="pCat"><option value="masc">Masculino</option><option value="fem">Feminino</option><option value="acc">Acess√≥rios</option></select>
      </div>
      <div class="form-row"><label>Imagem (URL) ‚Äî ou selecione arquivo abaixo</label><input id="pImage" placeholder="https://...jpg"></div>
      <div class="form-row"><label>Ou fa√ßa upload (ser√° convertido em base64)</label><input id="pFile" type="file" accept="image/*"></div>
      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button class="btn" id="closeAdmin">Fechar</button>
        <button class="btn" id="saveProduct">Salvar produto</button>
      </div>
      <hr style="margin-top:12px">
      <h4>Produtos existentes</h4>
      <div id="adminList" style="max-height:200px;overflow:auto"></div>
    </div>
  </div>  <!-- Cart drawer -->  <aside id="cartDrawer" class="cart-drawer" aria-hidden="true">
    <h3>Carrinho</h3>
    <div id="cartItems"></div>
    <div class="cart-footer">
      <div style="display:flex;justify-content:space-between;align-items:center"><div>Total:</div><div id="cartTotal">R$ 0,00</div></div>
      <div style="margin-top:12px;display:flex;gap:8px">
        <button class="btn" id="checkoutBtn">Finalizar (Pix)</button>
        <button class="btn" id="mpBtn">Pagar (MercadoPago)</button>
      </div>
      <div style="margin-top:12px;font-size:13px;color:var(--muted)">Observa√ß√£o: integra√ß√£o real com MercadoPago exige suas chaves e backend ‚Äî aqui h√° um fluxo simulado e placeholders.</div>
    </div>
  </aside>  <!-- Checkout modal (Pix) -->  <div id="checkoutModal" class="modal-backdrop" style="display:none">
    <div class="modal">
      <h3>Pagamento por Pix (simulado)</h3>
      <p>Escolha o tipo de pagamento. Abaixo geramos um QR/C√≥digo Pix est√°tico (exemplo).</p>
      <div style="display:flex;gap:12px;align-items:center">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=00020101021226860014BR.GOV.BCB.PIX2568pix.example.com/3461-1234567890-1234567890abcd520400005303986540610.005802BR5925Fashion%20Market6009Fortaleza62290525***6304B14A" alt="QR Pix" style="width:140px;height:140px;border-radius:8px">
        <div>
          <div><strong>Chave Pix:</strong> 81.999.999/0001-00</div>
          <div class="small">Valor: <span id="pixAmount">R$ 0,00</span></div>
          <div style="margin-top:8px"><button class="btn" id="confirmPix">J√° paguei (Simular)</button></div>
        </div>
      </div>
      <div style="margin-top:12px;display:flex;justify-content:flex-end;gap:8px"><button class="btn" id="closeCheckout">Fechar</button></div>
    </div>
  </div>  <!-- Login modal -->  <div id="loginModal" class="modal-backdrop" style="display:none">
    <div class="modal">
      <h3>Entrar / Criar conta</h3>
      <div class="form-row"><label>Email</label><input id="loginEmail" type="email"></div>
      <div class="form-row"><label>Senha</label><input id="loginPass" type="password"></div>
      <div style="display:flex;gap:8px;justify-content:flex-end"><button class="btn" id="closeLogin">Fechar</button><button class="btn" id="doLogin">Entrar / Criar</button></div>
    </div>
  </div>  <!-- Chat -->  <div id="chatWindow" style="display:none" class="chat-window">
    <div style="padding:10px;border-bottom:1px solid rgba(0,0,0,0.06);font-weight:700">Atendimento</div>
    <div class="chat-body" id="chatBody"></div>
    <div class="chat-input">
      <input id="chatInput" placeholder="Digite sua pergunta...">
      <button id="sendChat">Enviar</button>
    </div>
  </div>
  <button id="chatBtn" class="chat-btn">Chat</button>  <!-- About, contact and footer -->  <section id="sobre" style="max-width:1000px;margin:24px auto;padding:18px;background:var(--card);border-radius:12px">
    <h2>Sobre n√≥s</h2>
    <p class="small">Fashion Market √© uma loja local com presen√ßa online. Use o painel admin para adicionar imagens e produtos. Para imagens pr√≥prias, suba no GitHub e cole o link raw no campo de imagem.</p>
  </section>  <section id="contato" style="max-width:1000px;margin:24px auto;padding:18px;background:var(--card);border-radius:12px">
    <h2>Contato</h2>
    <p class="small">E-mail: contato@fashionmarket.exemplo ‚Ä¢ Telefone: (81) 99999-9999</p>
  </section>  <footer>¬© 2025 Fashion Market ‚Äî Todos os direitos reservados</footer>  <script>
    /* ----- Simple app state (localStorage-backed) ----- */
    const STORAGE_KEYS = {PRODUCTS:'fm_products_v1',CART:'fm_cart_v1',USERS:'fm_users_v1',SALES:'fm_sales_v1'};

    // Utilities
    const q = s=>document.querySelector(s);
    const el = (tag,attrs={})=>{const e=document.createElement(tag);Object.assign(e,attrs);return e}
    const money = v=> 'R$ ' + Number(v).toFixed(2).replace('.',',');

    // Default sample products (will be saved first time)
    const sampleProducts = [
      {id:1,name:'Camiseta Premium',price:59.9,cat:'masc',img:'https://images.unsplash.com/photo-1521335629791-ce4aec67dd47?auto=format&fit=crop&w=800&q=80'},
      {id:2,name:'Vestido Floral',price:89.9,cat:'fem',img:'https://images.unsplash.com/photo-1541099649105-f69ad21f3246?auto=format&w=800&q=80'},
      {id:3,name:'Jaqueta Jeans',price:129.9,cat:'masc',img:'https://images.unsplash.com/photo-1596755389378-c31d21fd1273?auto=format&w=800&q=80'},
      {id:4,name:'T√™nis Casual',price:149.9,cat:'acc',img:'https://images.unsplash.com/photo-1542060748-10c28b62716b?auto=format&w=800&q=80'}
    ];

    function getProducts(){
      const raw = localStorage.getItem(STORAGE_KEYS.PRODUCTS);
      if(!raw){localStorage.setItem(STORAGE_KEYS.PRODUCTS,JSON.stringify(sampleProducts));return sampleProducts}
      return JSON.parse(raw);
    }
    function saveProducts(list){localStorage.setItem(STORAGE_KEYS.PRODUCTS,JSON.stringify(list));}

    function getCart(){return JSON.parse(localStorage.getItem(STORAGE_KEYS.CART)||'[]')}
    function saveCart(c){localStorage.setItem(STORAGE_KEYS.CART,JSON.stringify(c))}

    function getUsers(){return JSON.parse(localStorage.getItem(STORAGE_KEYS.USERS)||'[]')}
    function saveUsers(u){localStorage.setItem(STORAGE_KEYS.USERS,JSON.stringify(u))}

    function getSales(){return JSON.parse(localStorage.getItem(STORAGE_KEYS.SALES)||'[]')}
    function saveSales(s){localStorage.setItem(STORAGE_KEYS.SALES,JSON.stringify(s))}

    // Render products
    function renderProducts(filter=''){
      const grid = q('.grid');grid.innerHTML='';
      const prods = getProducts();
      const filtered = prods.filter(p=>!filter || p.name.toLowerCase().includes(filter.toLowerCase()) || p.cat===filter);
      q('#productCount').textContent = prods.length;
      filtered.forEach(p=>{
        const c = el('div',{className:'card'});
        c.innerHTML = `\n          <img src="${p.img}" loading="lazy" alt="${p.name}">\n          <h3>${p.name}</h3>\n          <div class=price-row>\n            <div>\n              <div class=price>${money(p.price)}</div>\n              <div class=small>${p.cat.toUpperCase()}</div>\n            </div>\n            <div class=qty>\n              <button class='btn add' data-id='${p.id}'>Adicionar</button>\n            </div>\n          </div>`;
        grid.appendChild(c);
      })
    }

    // Cart logic
    function addToCart(id){
      const prods = getProducts();
      const prod = prods.find(x=>x.id==id); if(!prod) return;
      const cart = getCart();
      const found = cart.find(i=>i.id==id);
      if(found) found.qty++;
      else cart.push({id:prod.id,name:prod.name,price:prod.price,img:prod.img,qty:1});
      saveCart(cart); renderCart();
      toast('Produto adicionado');
    }

    function renderCart(){
      const drawer = q('#cartDrawer');
      const items = q('#cartItems'); items.innerHTML='';
      const cart = getCart();
      q('#cartCount').textContent = `(${cart.reduce((s,i)=>s+i.qty,0)})`;
      let total = 0;
      cart.forEach(item=>{
        total += item.price * item.qty;
        const div = el('div',{className:'cart-item'});
        div.innerHTML = `<img src="${item.img}"><div style='flex:1'><div style='font-weight:700'>${item.name}</div><div class='small'>${money(item.price)} x ${item.qty}</div></div><div style='display:flex;flex-direction:column;gap:6px'><button class='btn btn-sm increase' data-id='${item.id}'>+</button><button class='btn btn-sm decrease' data-id='${item.id}'>-</button></div>`;
        items.appendChild(div);
      })
      q('#cartTotal').textContent = money(total);
      q('#pixAmount').textContent = money(total);
      q('#cartCount').textContent = `(${cart.reduce((s,i)=>s+i.qty,0)})`;
    }

    function changeQty(id,delta){
      const cart = getCart();
      const it = cart.find(x=>x.id==id);
      if(!it) return;
      it.qty += delta; if(it.qty<=0) { const idx = cart.findIndex(x=>x.id==id); cart.splice(idx,1); }
      saveCart(cart); renderCart();
    }

    // Checkout simulation
    function checkoutPix(){
      q('#checkoutModal').style.display='flex';
    }

    function confirmPix(){
      // simulate sale
      const cart = getCart(); if(cart.length===0){toast('Carrinho vazio'); return}
      const sales = getSales(); sales.push({id:Date.now(),items:cart,total:cart.reduce((s,i)=>s+i.price*i.qty,0),date:new Date()}); saveSales(sales);
      localStorage.setItem(STORAGE_KEYS.CART,'[]'); renderCart(); q('#checkoutModal').style.display='none'; toast('Pagamento simulado recebido ‚Äî pedido confirmado');
      q('#salesCount').textContent = sales.length;
    }

    // Login / Users
    function openLogin(){q('#loginModal').style.display='flex'}
    function doLogin(){
      const email = q('#loginEmail').value.trim(); const pass = q('#loginPass').value;
      if(!email||!pass){toast('Preencha email e senha');return}
      const users = getUsers(); let u = users.find(x=>x.email===email);
      if(!u){u={email,pass,role: (email==='admin@loja.com' ? 'admin' : 'user'),id:Date.now()}; users.push(u); saveUsers(users); toast('Conta criada e logada')}
      else{ if(u.pass!==pass){toast('Senha incorreta');return} toast('Logado com sucesso') }
      q('#loginModal').style.display='none'; q('#userCount').textContent = getUsers().length;
    }

    // Admin panel functions
    function openAdmin(){
      const users = getUsers(); const isAdmin = users.some(u=>u.email==='admin@loja.com' && u.pass===q('#loginPass').value);
      // For simplicity we allow opening admin always but actions still require a simple password prompt
      q('#adminModal').style.display='flex'; renderAdminList();
    }
    function renderAdminList(){
      const list = q('#adminList'); list.innerHTML=''; const prods = getProducts(); prods.forEach(p=>{const d = el('div');d.style.display='flex';d.style.justifyContent='space-between';d.style.alignItems='center';d.style.padding='6px 0';d.innerHTML = `<div>${p.name} ‚Äî ${money(p.price)}</div><div><button class='btn del' data-id='${p.id}'>Excluir</button></div>`;list.appendChild(d)})
    }
    function saveProduct(){
      const name = q('#pName').value.trim(); const price = parseFloat(q('#pPrice').value); const cat = q('#pCat').value; const imgUrl = q('#pImage').value.trim(); const file = q('#pFile').files[0];
      if(!name||!price){toast('Nome e pre√ßo s√£o obrigat√≥rios');return}
      const prods = getProducts();
      const id = prods.length? Math.max(...prods.map(p=>p.id))+1 : 1;
      if(file){ // convert to base64
        const reader = new FileReader(); reader.onload = ()=>{ prods.push({id,name,price,cat,img:reader.result}); saveProducts(prods); renderProducts(); renderAdminList(); toast('Produto salvo com imagem (base64)'); }
        reader.readAsDataURL(file);
      } else {
        prods.push({id,name,price,cat,img: imgUrl || 'https://via.placeholder.com/800x600?text=Sem+imagem'}); saveProducts(prods); renderProducts(); renderAdminList(); toast('Produto salvo');
      }
      q('#pName').value=''; q('#pPrice').value=''; q('#pImage').value=''; q('#pFile').value='';
    }

    // Small UI helpers
    function toast(msg){const t = el('div',{innerText:msg}); Object.assign(t.style,{position:'fixed',left:'50%',transform:'translateX(-50%)',bottom:'18px',background: 'rgba(0,0,0,0.8)',color:'#fff',padding:'8px 12px',borderRadius:'8px',zIndex:9999});document.body.appendChild(t);setTimeout(()=>t.remove(),2000)}

    // Chat simple bot
    function toggleChat(){ const w = q('#chatWindow'); if(w.style.display==='none' || !w.style.display){ w.style.display='flex'; loadChat(); } else w.style.display='none'; }
    function loadChat(){ const body=q('#chatBody'); body.innerHTML=''; const history = JSON.parse(localStorage.getItem('fm_chat_v1')||'[]'); history.forEach(m=>{const d=el('div',{className:'msg '+(m.from==='user'?'user':'bot')});d.innerHTML=`<div class='bubble'>${m.text}</div>`; body.appendChild(d)}); body.scrollTop = body.scrollHeight; }
    function sendChatMessage(){ const txt = q('#chatInput').value.trim(); if(!txt) return; const history = JSON.parse(localStorage.getItem('fm_chat_v1')||'[]'); history.push({from:'user',text:txt}); localStorage.setItem('fm_chat_v1',JSON.stringify(history)); q('#chatInput').value=''; loadChat(); setTimeout(()=>{ const reply = autoReply(txt); history.push({from:'bot',text:reply}); localStorage.setItem('fm_chat_v1',JSON.stringify(history)); loadChat(); },800) }
    function autoReply(userText){ const t=userText.toLowerCase(); if(t.includes('pix')) return 'Voc√™ pode pagar por Pix. Ao finalizar, copie o c√≥digo ou escaneie o QR.'; if(t.includes('produto')) return 'Temos v√°rias pe√ßas. Use a busca ou categorias.'; return 'Ol√°! Em que posso ajudar? Para falar com humano: contato@fashionmarket.exemplo' }

    // MercadoPago placeholder (real integration needs server)
    function payMercadoPago(){ alert('Integra√ß√£o MercadoPago simulada. Para ativar, √© preciso gerar preference via backend com suas chaves. Veja a documenta√ß√£o do MercadoPago.') }

    // Event bindings
    document.addEventListener('click', e=>{
      if(e.target.matches('.add')) addToCart(e.target.dataset.id);
      if(e.target.matches('.increase')) changeQty(e.target.dataset.id,1);
      if(e.target.matches('.decrease')) changeQty(e.target.dataset.id,-1);
      if(e.target.matches('.del')){ const id=e.target.dataset.id; const prods = getProducts(); const idx = prods.findIndex(p=>p.id==id); if(idx>-1){prods.splice(idx,1); saveProducts(prods); renderProducts(); renderAdminList(); toast('Produto exclu√≠do')}}
    })

    q('#cartBtn').addEventListener('click',()=>{ q('#cartDrawer').classList.toggle('open'); q('#cartDrawer').style.ariaHidden = !q('#cartDrawer').classList.contains('open') })
    q('#checkoutBtn').addEventListener('click',checkoutPix);
    q('#confirmPix').addEventListener('click',confirmPix);
    q('#closeCheckout').addEventListener('click',()=>q('#checkoutModal').style.display='none');

    q('#loginBtn').addEventListener('click',openLogin);
    q('#closeLogin').addEventListener('click',()=>q('#loginModal').style.display='none');
    q('#doLogin').addEventListener('click',doLogin);

    q('#openAdmin').addEventListener('click',openAdmin);
    q('#closeAdmin').addEventListener('click',()=>q('#adminModal').style.display='none');
    q('#saveProduct').addEventListener('click',saveProduct);

    q('#searchBtn').addEventListener('click',()=>{ renderProducts(q('#searchInput').value) });
    document.querySelectorAll('.cat').forEach(c=>c.addEventListener('click',()=>{ renderProducts(c.dataset.cat) }));

    q('#themeToggle').addEventListener('click',()=>{ document.documentElement.toggleAttribute('data-theme'); if(document.documentElement.hasAttribute('data-theme')) document.documentElement.setAttribute('data-theme','dark'); else document.documentElement.removeAttribute('data-theme') });

    q('#chatBtn').addEventListener('click',toggleChat);
    q('#sendChat').addEventListener('click',sendChatMessage);
    q('#chatInput').addEventListener('keydown',e=>{ if(e.key==='Enter') sendChatMessage() });

    q('#mpBtn').addEventListener('click',payMercadoPago);

    // Init
    renderProducts(); renderCart(); q('#userCount').textContent = getUsers().length; q('#salesCount').textContent = getSales().length;

    // Accessibility: close modals when clicking backdrop
    document.querySelectorAll('.modal-backdrop').forEach(b=>b.addEventListener('click', e=>{ if(e.target===b) b.style.display='none' }));

    // Small note: how to use your own images
    /*
      1) No GitHub: envie a imagem para o reposit√≥rio (Add File ‚Üí Upload files). Depois abra a imagem, clique em "Raw" e copie o link raw.githubusercontent.com
      2) Cole esse link no campo Imagem do painel Admin ao criar produto
      3) Ou fa√ßa upload direto pelo painel (ser√° salvo em base64 no localStorage ‚Äî ideal para testes locais)
    */
  </script></body>
</html>
